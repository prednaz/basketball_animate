<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <object id="main_svg" type="image/svg+xml"></object>
  <audio id="music" preload="auto"></audio>
  <script>
    let music_loaded = false;
    document.querySelector("#music").addEventListener("canplaythrough", () => {
      music_loaded = true;
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
  <script src="snap.svg-min.js"></script>
  <script src="library_svg_animate.js"></script>
  <script src="library_basketball.js"></script>
  <script id="animation"></script>
  <script>
    {
      const animation = location.hash.slice(1);
      if (animation.length !== 0 && !/\W/.test(animation))
        document.querySelector("#animation").src = "animation/" + animation + ".js";
    }
    const nothing = () => {};
    const position_slider = {"slider": nothing};
    const position_display_slider = {"text": nothing};
    const play_button_label = {"restart": null};
    const play_button = {"button": nothing};
    {    
      const music_dom = document.querySelector("#music");
      window.addEventListener("load", () => {
        document.querySelector("#main_svg").contentDocument.addEventListener("click", () => {
          if (music_loaded) {
            music_dom.play();
            timeline.play();
            animation_supplementary.play();
          }
        });
      });
    }
  </script>
</body>
</html>
